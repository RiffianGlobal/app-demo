import{T as u}from"./index-cmBhvwLn.js";import{l as y,x as m,m as $,a4 as g,d as v,h as d,a as n,b as f}from"./vendor-0vo4Ah28.js";const w=":host{position:relative;display:block;height:100%;width:100%;--bg: #424b57;--fg: #4caf50}circle{height:100%;width:100%;fill:none;transform-origin:50% 50%;transition:stroke-dashoffset .3s;transform:rotate(-90deg)}circle.b{stroke:var(--bg)}circle.f{stroke:var(--fg)}circle.p{stroke:#09fd460d}.text{position:absolute;top:0;left:0;display:flex;height:100%;width:100%;align-items:center;justify-content:center}.text.done,.text.active{color:var(--fg)}";var P=Object.defineProperty,x=Object.getOwnPropertyDescriptor,h=(t,e,o,s)=>{for(var r=s>1?void 0:s?x(e,o):e,i=t.length-1,a;i>=0;i--)(a=t[i])&&(r=(s?a(e,o,r):a(r))||r);return s&&r&&P(e,o,r),r};let p=class extends u(w){constructor(){super(...arguments),this.el$=y(),this.percent=0,this.randomTo=0,this.precision=2,this.label=!1,this.state=!1,this.stroke=2,this.randomProgress=this.randomTo,this.width=32}get progress(){return Math.min(this.percent,100)}get per(){return(this.randomTo?Math.max(this.progress,this.randomProgress):this.progress).toFixed(this.precision)}get stat(){return this.progress===100?"active done":this.progress?"active":""}get radius(){return this.width/2}get r(){return this.radius-this.stroke/2}get ring(){const t=2*Math.PI*this.r;return{"stroke-dasharray":`${t} ${t}`,"stroke-dashoffset":`${t-this.progress/100*t}`}}get r2(){return this.radius-this.radius/2}get pie(){const t=2*Math.PI*this.r2;return{"stroke-dasharray":`${t} ${t}`,"stroke-dashoffset":`${t-this.progress/100*t}`}}fit(){this.el$.value&&(this.width=this.el$.value.clientWidth)}connectedCallback(){super.connectedCallback(),this.fit()}render(){return m`<svg ${$(this.el$)} viewBox="${`0 0 ${this.width} ${this.width}`}"><g stroke-width="${this.radius}"><circle class="p" cx="${this.radius}" cy="${this.radius}" r="${this.r2}" style="${g(this.pie)}"/></g><g stroke-width="${this.stroke}"><circle class="b" cx="${this.radius}" cy="${this.radius}" r="${this.r}"/><circle class="f" cx="${this.radius}" cy="${this.radius}" r="${this.r}" style="${g(this.ring)}"/></g></svg><div class="text ${v(this.$c([this.stat]))}"><slot></slot></div>`}};h([n({type:Number})],p.prototype,"percent",2);h([n({type:Number})],p.prototype,"randomTo",2);h([n({type:Number})],p.prototype,"precision",2);h([n({type:Boolean})],p.prototype,"label",2);h([n({type:Boolean})],p.prototype,"state",2);h([n({type:Number})],p.prototype,"stroke",2);h([d()],p.prototype,"randomProgress",2);h([d()],p.prototype,"width",2);p=h([f("ui-progress-ring")],p);const T=".bar{--tw-bg-opacity: 1;background-color:#424b57;background-color:rgba(66,75,87,var(--tw-bg-opacity))}.per{--tw-bg-opacity: 1;background-color:#60a5fa;background-color:rgba(96,165,250,var(--tw-bg-opacity))}.per.state{background:linear-gradient(90deg,#60b864,#4caf50)}";var _=Object.defineProperty,O=Object.getOwnPropertyDescriptor,c=(t,e,o,s)=>{for(var r=s>1?void 0:s?O(e,o):e,i=t.length-1,a;i>=0;i--)(a=t[i])&&(r=(s?a(e,o,r):a(r))||r);return s&&r&&_(e,o,r),r};let l=class extends u(T){constructor(){super(...arguments),this.percent=0,this.randomTo=0,this.precision=2,this.label=!1,this.state=!1,this.pending=!1,this.randomProgress=this.percent,this.randomTimer=null}get progress(){return Math.min(this.percent,100)}get per(){return(this.randomTo?Math.max(this.progress,this.randomProgress):this.progress).toFixed(this.precision)}shouldUpdate(t){return t.has("randomTo")&&(this.randomTo?(clearInterval(this.randomTimer),this.randomProgress=this.percent,this.randomTimer=setInterval(()=>{this.randomProgress+=Math.floor(Math.random()*(.1-.01+1)+.01),this.randomProgress>=this.randomTo&&clearInterval(this.randomTimer)},200)):clearInterval(this.randomTimer)),!0}render(){return m`<div class="relative flex grow w-full items-center"><div class="bar relative block w-full h-1.5 overflow-hidden rounded-full"><p class="per pr-1 absolute top-0 h-full rounded-full transition-all ${v({state:this.state})}" style="${g({width:`${this.per}%`})}"></p></div></div>`}};c([n({type:Number})],l.prototype,"percent",2);c([n({type:Number})],l.prototype,"randomTo",2);c([n({type:Number})],l.prototype,"precision",2);c([n({type:Boolean})],l.prototype,"label",2);c([n({type:Boolean})],l.prototype,"state",2);c([d()],l.prototype,"pending",2);c([d()],l.prototype,"randomProgress",2);c([d()],l.prototype,"randomTimer",2);l=c([f("ui-progress-bar")],l);var k=Object.defineProperty,I=Object.getOwnPropertyDescriptor,M=(t,e,o,s)=>{for(var r=s>1?void 0:s?I(e,o):e,i=t.length-1,a;i>=0;i--)(a=t[i])&&(r=(s?a(e,o,r):a(r))||r);return s&&r&&k(e,o,r),r};let b=class extends u(""){render(){return m`<div class="flex gap-8 items-center"><p class="w-12"><ui-progress-ring state .percent="${66}" .randomTo="100"><span class="text-xs">66%</span></ui-progress-ring></p><p class="w-12"><ui-progress-bar state .percent="${80}" .randomTo="100">2</ui-progress-bar></p><p class="w-12"><ui-progress-bar .percent="${40}"></ui-progress-bar></p></div>`}};b=M([f("doc-progress")],b);export{b as DocProgress};
